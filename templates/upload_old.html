<!DOCTYPE html>
<html>
  <head>
    <meta name="description" content="Your Bouldering Beta Library" />
	{% include 'scripts/cookiesScripts.html' %}
	
    <!-- Navigation bar title-->
    <title>{{ _("Upload") }}</title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, text/html, charset=UTF-8"
    />
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet"> 
    <link href="{{ url_for('static', filename='bootstrap/css/bootstrap.min.css') }}" rel="stylesheet" media="screen" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/madboulder.css') }}" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <!-- Development -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/all.css') }}" />
    <link rel="apple-touch-icon" sizes="57x57"
      href="https://madboulder.org/static/images/logo/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon" sizes="114x114"
      href="https://madboulder.org/static/images/logo/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon" sizes="72x72"
      href="https://madboulder.org/static/images/logo/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon" sizes="144x144"
      href="https://madboulder.org/static/images/logo/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon" sizes="60x60"
      href="https://madboulder.org/static/images/logo/apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon" sizes="120x120"
      href="https://madboulder.org/static/images/logo/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon" sizes="76x76"
      href="https://madboulder.org/static/images/logo/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon" sizes="152x152"
      href="https://madboulder.org/static/images/logo/apple-touch-icon-152x152.png" />
    <link rel="icon" type="image/png" href="https://madboulder.org/static/images/logo/favicon-196x196.png"
      sizes="196x196" />
    <link rel="icon" type="image/png" href="https://madboulder.org/static/images/logo/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/png" href="https://madboulder.org/static/images/logo/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="https://madboulder.org/static/images/logo/favicon-16x16.png" sizes="16x16" />
    <link rel="icon" type="image/png" href="https://madboulder.org/static/images/logo/favicon-128.png" sizes="128x128" />
    <meta name="application-name" content="Climbing Videos | Beta Library | MadBoulder" />
    <meta name="msapplication-TileColor" content="#FFFFFF" />
    <meta name="msapplication-TileImage" content="https://madboulder.org/static/images/logo/mstile-144x144.png" />
    <meta name="msapplication-square70x70logo" content="https://madboulder.org/static/images/logo/mstile-70x70.png" />
    <meta name="msapplication-square150x150logo" content="https://madboulder.org/static/images/logo/mstile-150x150.png" />
    <meta name="msapplication-wide310x150logo" content="https://madboulder.org/static/images/logo/mstile-310x150.png" />
    <meta name="msapplication-square310x310logo" content="https://madboulder.org/static/images/logo/mstile-310x310.png" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/upload.css') }}" />
	{% include 'scripts/cookiesScripts.html' %}
    <script>
      function validateForm() {
        var form = document.forms["uploadForm"];
        if (form["wt_embed_output"].value == "") {
          alert(
            "Please select a file or wait until the selected file has been uploaded"
          );
          return false;
        }
      }
    </script>
  </head>
  <body>
    <div id="holder">
      <div id="body">
        {% include 'mainMenu.html' %}
        <div class="container" id="mainContainer">
          <br />
          <br />
          <br />
          <div class="container" id="pageContent">
            <!-- Upload form -->
            {% if not success %}
            <div id="upload-container" class="form-container">
              <form
                id="uploadForm"
                action="{{ url_for('upload_file') }}"
                method="POST"
                enctype="multipart/form-data"
                onsubmit="return validateForm()"
              >
                <h4>{{_("Upload Form")}}</h4>
                <br />
                <div class="container">
                  <p>
                    {{ _("If the form doesn't work, you can try")}}
                    <a href="/upload_alt">{{ _("this alternative method") }}</a>.
                  </p>
                </div>
                <br />
                <!-- We Transfer upload snippet -->
                <div data-widget-host="habitat" id="wt_embed">
                  <script type="text/props">
                    {
                      "wtEmbedKey": "{{ wt_key }}",
                      "wtEmbedOutput": ".wt_embed_output",
                      "wtEmbedLanguage": "{{ locale }}"
                    }
                  </script>
                </div>
                <script
                  async
                  src="https://prod-embed-cdn.wetransfer.net/v1/latest.js"
                ></script>
                <!-- The next input element will hold the transfer link -->
                <input
                  type="hidden"
                  name="wt_embed_output"
                  class="wt_embed_output"
                />
                <br />
                <!-- Rest of fields -->
                <br />
                {{ _("Climber") }}: <input type="text" name="climber" /><br />
                <div class="required-field">{{ _("Problem") }}:</div>
                <input required type="text" name="name" /><br />
                <div class="required-field">{{ _("Zone") }}:</div>
                <input required type="text" name="zone" /><br />
                {{ _("Sector") }}: <input type="text" name="sector" /><br />
                {{ _("Grade") }}: <input type="text" name="grade" /><br />
                {{ _("Notes") }}: <br />
                <textarea name="notes" rows="5"></textarea><br />
                <br />
                <input
                  class="mad-button"
                  type="submit"
                  value='{{_("Submit")}}'
                />
              </form>
              <br/>
              <div style="width:75%; margin: 0 auto;">
                {{ _(
                  "MadBoulder reserves the right to not publish a video. Possible reasons are, but are not limited to:
                  poor video quality, poor camera angle and wrong or repeated line. Please note that there might be a
                  delay between uploading and publishing a video."
                )}}
              </div>
            </div>
            {% endif %}
            <!-- Upload success-->
            {% if success %}
            <div id="upload-success">
              <div class="success-checkmark">
                <div class="check-icon">
                  <span class="icon-line line-tip"></span>
                  <span class="icon-line line-long"></span>
                  <div class="icon-circle"></div>
                  <div class="icon-fix"></div>
                </div>
              </div>
              <div style="text-align: center;">
                <h3>{{_("Your file was sent successfully")}}</h3>
              </div>
              <br />
              <div style="text-align: center;">
                <form action="/upload" method="get">
                  <input
                    class="mad-button"
                    type="submit"
                    value="{{ _('Upload another video') }}"
                  />
                </form>
              </div>
            </div>
            {% endif %}
          </div>
        </div>
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
		{% include 'footer.html' %}
      </div>
    </div>
  </body>
</html>
