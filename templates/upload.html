<!DOCTYPE html>
<html>
  <head>
    <meta name="description" content="Your Bouldering Beta Library" />
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=UA-35431742-2"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "UA-35431742-2");
    </script>
    <!-- Navigation bar title-->
    <title>{{ _("Upload") }}</title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, text/html, charset=UTF-8"
    />
    <link href="static/bootstrap.min.css" rel="stylesheet" media="screen" />
    <link rel="stylesheet" href="static/css/madboulder.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <!-- Development -->
    <link rel="stylesheet" href="../static/css/all.css" />
  </head>
  <body>
    <div id="holder">
      <div id="body">
        <div class="homeTopnav sticky" id="myTopnav">
          <a id="logo" href="/" style="padding: 7px 16px;">
            <img
              src="static/images/logo-menu.png"
              alt="menu-logo"
              style="width: 40px; height: 40px; padding: 0px 0px;"
            />
          </a>
          <!-- <a href="/">{{ _("HOME") }}</a> -->
          <a href="/all">{{ _("MAP") }}</a>
          <a href="/zones">{{ _("ZONES") }}</a>
          <a href="/latest_videos">{{ _("LATEST VIDEOS") }}</a>
          <a href="/upload">{{ _("UPLOAD") }}</a>
          <a href="/about_us">{{ _("ABOUT US") }}</a>
          <a href="https://teespring.com/stores/madboulder" target="_blank"
            >{{ _("STORE") }}</a
          >
          <a
            href="javascript:void(0);"
            style="font-size: 17px;"
            class="icon"
            onclick="loadMenu()"
            >&#9776;</a
          >
        </div>
        <script>
          function loadMenu() {
            var x = document.getElementById("myTopnav");
            if (!x.classList.contains("responsive")) {
              x.className += " responsive";
            } else {
              if (x.classList.contains("sticky")) {
                x.className = "homeTopnav sticky";
              } else {
                x.className = "homeTopnav";
              }
            }
          }
        </script>
        <div class="container" id="mainContainer">
          <br />
          <br />
          <br />
          <div class="container" id="pageContent">
            <!-- Upload form -->
            {% if not success %}
            <div id="upload-container" class="form-container">
              <form
                id="uploadForm"
                action="{{ url_for('upload_file') }}"
                method="POST"
                enctype="multipart/form-data"
                onsubmit="return validateForm()"
              >
                <h4>{{_("Upload Form")}}</h4>
                <br />
                <div class="container">
                  <p>
                    {{ _("If the form doesn't work, you can send the file via
                    ")}}
                    <a href="https://wetransfer.com/">wetransfer</a>
                    {{_ (" to aniolsantacreusalva@gmail.com")}}
                  </p>
                </div>
                <br />
                <!-- We Transfer upload snippet -->
                <div data-widget-host="habitat" id="wt_embed">
                  <script type="text/props">
                    {
                      "wtEmbedKey": "{{ wt_key }}",
                      "wtEmbedOutput": ".wt_embed_output",
                      "wtEmbedLanguage": "{{ locale }}"
                    }
                  </script>
                </div>
                <script
                  async
                  src="https://prod-embed-cdn.wetransfer.net/v1/latest.js"
                ></script>
                <!-- The next input element will hold the transfer link -->
                <input
                  type="hidden"
                  name="wt_embed_output"
                  class="wt_embed_output"
                />
                <br />
                <!-- Rest of fields -->
                <br />
                <div class="required-field">{{ _("Name") }}:</div>
                <input required type="text" name="name" /><br />
                {{ _("Climber") }}: <input type="text" name="climber" /><br />
                <div class="required-field">{{ _("Zone") }}:</div>
                <input required type="text" name="zone" /><br />
                {{ _("Sector") }}: <input type="text" name="sector" /><br />
                {{ _("Grade") }}: <input type="text" name="grade" /><br />
                {{ _("Notes") }}: <br />
                <textarea name="notes" rows="5"></textarea><br />
                <br />
                <input
                  class="mad-button"
                  type="submit"
                  value='{{_("Submit")}}'
                />
              </form>
            </div>
            {% endif %}
            <!-- Upload success-->
            {% if success %}
            <div id="upload-success">
              <div class="success-checkmark">
                <div class="check-icon">
                  <span class="icon-line line-tip"></span>
                  <span class="icon-line line-long"></span>
                  <div class="icon-circle"></div>
                  <div class="icon-fix"></div>
                </div>
              </div>
              <div style="text-align: center;">
                <h3>{{_("Your file was sent successfully")}}</h3>
              </div>
              <br />
              <div style="text-align: center;">
                <form action="/upload" method="get">
                  <input
                    class="mad-button"
                    type="submit"
                    value="{{ _('Upload another video') }}"
                  />
                </form>
              </div>
            </div>
            {% endif %}
          </div>
        </div>
        <!-- Footer contains links to social networks and language selector-->
        <div id="fakeFooter">
          <br />
          <br />
          <div style="text-align: center;">
            <div style="display: inline-block;">
              <ul id="lang-selector" style="padding: 0; list-style: none;">
                <li>
                  <a href="https://www.instagram.com/madboulder/"
                    ><i style="color: #555;" class="fab fa-instagram fa-lg"></i
                  ></a>
                </li>
                &nbsp;
                <li>
                  <a
                    href="https://www.youtube.com/channel/UCX9ok0rHnvnENLSK7jdnXxA"
                    ><i style="color: #555;" class="fab fa-youtube fa-lg"></i
                  ></a>
                </li>
                &nbsp; &nbsp;
                <li>
                  <a style="color: #555;" href="/language/en" title="English">
                    {{ _("EN") }}
                  </a>
                </li>
                &nbsp;
                <li>
                  <a style="color: #555;" href="/language/es" title="Spanish">
                    {{ _("ES") }}
                  </a>
                </li>
                &nbsp;
                <li>
                  <a style="color: #555;" href="/language/ca" title="Catalan">
                    {{ _("CAT") }}
                  </a>
                </li>
              </ul>
            </div>
          </div>
          <br />
        </div>
      </div>
    </div>
  </body>
</html>

<style>
  form {
    margin: 0 auto;
    width: 75%;
  }
  ul#lang-selector li {
    display: inline;
  }

  .form-container {
    display: inline;
    justify-content: center;
    clear: both;
  }

  .form-container input {
    width: 100%;
    clear: both;
  }
  .form-container select {
    width: 100%;
    clear: both;
  }
  textarea {
    width: 100%;
    -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */
    -moz-box-sizing: border-box; /* Firefox, other Gecko */
    box-sizing: border-box; /* Opera/IE 8+ */
  }
  .required-field::after {
    content: "*";
    color: red;
  }
  /** * Extracted from: SweetAlert * Modified by: Istiak Tridip */
  .success-checkmark {
    width: 80px;
    height: 115px;
    margin: 0 auto;
  }
  .success-checkmark .check-icon {
    width: 80px;
    height: 80px;
    position: relative;
    border-radius: 50%;
    box-sizing: content-box;
    border: 4px solid #4caf50;
  }
  .success-checkmark .check-icon::before {
    top: 3px;
    left: -2px;
    width: 30px;
    transform-origin: 100% 50%;
    border-radius: 100px 0 0 100px;
  }
  .success-checkmark .check-icon::after {
    top: 0;
    left: 30px;
    width: 60px;
    transform-origin: 0 50%;
    border-radius: 0 100px 100px 0;
    animation: rotate-circle 4.25s ease-in;
  }
  .success-checkmark .check-icon::before,
  .success-checkmark .check-icon::after {
    content: "";
    height: 100px;
    position: absolute;
    background: #fff;
    transform: rotate(-45deg);
  }
  .success-checkmark .check-icon .icon-line {
    height: 5px;
    background-color: #4caf50;
    display: block;
    border-radius: 2px;
    position: absolute;
    z-index: 10;
  }
  .success-checkmark .check-icon .icon-line.line-tip {
    top: 46px;
    left: 14px;
    width: 25px;
    transform: rotate(45deg);
    animation: icon-line-tip 0.75s;
  }
  .success-checkmark .check-icon .icon-line.line-long {
    top: 38px;
    right: 8px;
    width: 47px;
    transform: rotate(-45deg);
    animation: icon-line-long 0.75s;
  }
  .success-checkmark .check-icon .icon-circle {
    top: -4px;
    left: -4px;
    z-index: 10;
    width: 80px;
    height: 80px;
    border-radius: 50%;
    position: absolute;
    box-sizing: content-box;
    border: 4px solid rgba(76, 175, 80, 0.5);
  }
  .success-checkmark .check-icon .icon-fix {
    top: 8px;
    width: 5px;
    left: 26px;
    z-index: 1;
    height: 85px;
    position: absolute;
    transform: rotate(-45deg);
    background-color: #fff;
  }
  @keyframes rotate-circle {
    0% {
      transform: rotate(-45deg);
    }
    5% {
      transform: rotate(-45deg);
    }
    12% {
      transform: rotate(-405deg);
    }
    100% {
      transform: rotate(-405deg);
    }
  }
  @keyframes icon-line-tip {
    0% {
      width: 0;
      left: 1px;
      top: 19px;
    }
    54% {
      width: 0;
      left: 1px;
      top: 19px;
    }
    70% {
      width: 50px;
      left: -8px;
      top: 37px;
    }
    84% {
      width: 17px;
      left: 21px;
      top: 48px;
    }
    100% {
      width: 25px;
      left: 14px;
      top: 45px;
    }
  }
  @keyframes icon-line-long {
    0% {
      width: 0;
      right: 46px;
      top: 54px;
    }
    65% {
      width: 0;
      right: 46px;
      top: 54px;
    }
    84% {
      width: 55px;
      right: 0px;
      top: 35px;
    }
    100% {
      width: 47px;
      right: 8px;
      top: 38px;
    }
  }
</style>

<script>
  function validateForm() {
    var form = document.forms["uploadForm"];
    if (form["wt_embed_output"].value == "") {
      alert(
        "Please select a file or wait until the selected file has been uploaded"
      );
      return false;
    }
  }
</script>
