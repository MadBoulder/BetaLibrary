<!DOCTYPE html>
<html>
  <head>
    <!-- Navigation bar title-->
    <title>Upload</title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, text/html, charset=UTF-8"
    />
    <link href="static/bootstrap.min.css" rel="stylesheet" media="screen" />
    <link rel="stylesheet" href="static/css/madboulder.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <!-- Development -->
    <link rel="stylesheet" href="../static/css/all.css" />
    <!-- JQuery-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  </head>
  <body>
    <!-- Header contains Main site image, subtitle and links to social networks-->
    <div id="header" style="text-align:center;">
      <img
        src="{{url_for('static', filename='images/header-site.jpg')}}"
        alt="logo"
        style="width:100%; max-width:700px; max-height:300px;"
      />
      <div style="text-align:center;">
        <p><i>- Your Beta Library -</i></p>
        <a href="https://www.instagram.com/madboulder/"
          ><i class="fab fa-instagram fa-2x"></i
        ></a>
        <a href="https://www.youtube.com/channel/UCX9ok0rHnvnENLSK7jdnXxA"
          ><i class="fab fa-youtube fa-2x"></i
        ></a>
      </div>
    </div>
    <div id="holder">
      <div id="body">
        <div class="container">
          <br />
          <!-- main menu with links to HOME, ZONES and MAP-->
          <div class="topnav" id="myTopnav">
            <a href="/">{{ _("HOME") }}</a>
            <a href="/all">{{ _("MAP") }}</a>
            <a href="/">{{ _("ZONES") }}</a>
            <a href="/latest_videos">{{ _("LATEST VIDEOS") }}</a>
            <a href="/about_us">{{ _("ABOUT US") }}</a>
            <a
              href="javascript:void(0);"
              style="font-size:15px;"
              class="icon"
              onclick="myFunction()"
              >&#9776;</a
            >
          </div>
          <script>
            function myFunction() {
              var x = document.getElementById("myTopnav");
              if (x.className === "topnav") {
                x.className += " responsive";
              } else {
                x.className = "topnav";
              }
            }
          </script>
          <br />
          <br />
          <br />
          <br />
          <div style="text-align:center;">
            <div id="loader" style="display: inline-block;"></div>
          </div>
          <br />
          <br />
          <form
            id="uploadForm"
            action="{{ url_for('upload_file') }}"
            method="POST"
            enctype="multipart/form-data"
          >
            <div data-widget-host="habitat" id="wt_embed">
              <script type="text/props">
                {
                  "wtEmbedKey": "fcec02cd-f871-4310-9ffd-af4637baca2d",
                  "wtEmbedOutput": ".wt_embed_output",
                  "wtEmbedLanguage": "{{ locale }}"
                }
              </script>
            </div>
            <script
              async
              src="https://prod-embed-cdn.wetransfer.net/v1/latest.js"
            ></script>
            <!--
            The next input element will hold the transfer link. For testing purposes, you
            could change the type attribute to "text", instead of "hidden".
          -->
            <input
              type="hidden"
              name="wt_embed_output"
              class="wt_embed_output"
            />

            <input type="file" name="file" />
            <br />
            <input type="submit" />
          </form>
        </div>
        <footer>
          <br />
          <div style="text-align:center;">
            <div style="display: inline-block">
              <a href="https://www.instagram.com/madboulder/"
                ><i class="fab fa-instagram fa-2x"></i
              ></a>
              <a href="https://www.youtube.com/channel/UCX9ok0rHnvnENLSK7jdnXxA"
                ><i class="fab fa-youtube fa-2x"></i
              ></a>
            </div>
          </div>
          <br />
          <div style="text-align:center;">
            <div style="display: inline-block">
              <ul id="lang-selector" style="padding: 0;list-style: none;">
                <li>
                  <a href="/language/en?origin=upload" title="English">
                    {{ _("English") }}
                  </a>
                </li>
                &nbsp;
                <li>
                  <a href="/language/es?origin=upload" title="Spanish">
                    {{ _("Español") }}
                  </a>
                </li>
                &nbsp;
                <li>
                  <a href="/language/ca?origin=upload" title="Catalan">
                    {{ _("Català ") }}
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </footer>
      </div>
    </div>
  </body>
</html>

<style>
  form {
    margin: 0 auto;
    width: 450px;
  }
  ul#lang-selector li {
    display: inline;
  }

  .loader {
    border: 16px solid #f3f3f3;
    border-radius: 50%;
    border-top: 16px solid #333;
    width: 120px;
    height: 120px;
    -webkit-animation: spin 1s linear infinite; /* Safari */
    animation: spin 1s linear infinite;
  }

  /* Safari */
  @-webkit-keyframes spin {
    0% {
      -webkit-transform: rotate(0deg);
    }
    100% {
      -webkit-transform: rotate(360deg);
    }
  }

  @keyframes spin {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }
</style>

<script>
  $("#uploadForm").submit(function() {
    $("#loader").addClass("loader");
    return true;
  });

  $("#loader").on("pageinit", function(e) {
    $("#loader").removeClass("loader");
  });

  var myCustomEvent =
    navigator.userAgent.match("iPhone") != null ? "popstate" : "pageshow";

  $(window).on(myCustomEvent, function(e) {
    $("#loader").removeClass("loader");
  });
</script>
