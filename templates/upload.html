<!DOCTYPE html>
<html>
  <head>
    <!-- Navigation bar title-->
    <title>Upload</title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, text/html, charset=UTF-8"
    />
    <link href="static/bootstrap.min.css" rel="stylesheet" media="screen" />
    <link rel="stylesheet" href="static/css/madboulder.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <!-- Development -->
    <link rel="stylesheet" href="../static/css/all.css" />
  </head>
  <body>
    <!-- Header contains Main site image, subtitle and links to social networks-->
    <div id="header" style="text-align:center;">
      <img
        src="{{url_for('static', filename='images/header-site.jpg')}}"
        alt="logo"
        style="width:100%; max-width:700px; max-height:300px;"
      />
      <div style="text-align:center;">
        <p><i>- Your Beta Library -</i></p>
        <a href="https://www.instagram.com/madboulder/"
          ><i class="fab fa-instagram fa-2x"></i
        ></a>
        <a href="https://www.youtube.com/channel/UCX9ok0rHnvnENLSK7jdnXxA"
          ><i class="fab fa-youtube fa-2x"></i
        ></a>
      </div>
    </div>
    <div id="holder">
      <div id="body">
        <div class="container">
          <br />
          <!-- main menu with links to HOME, ZONES and MAP-->
          <div class="topnav" id="myTopnav">
            <a href="/">{{ _("HOME") }}</a>
            <a href="/all">{{ _("MAP") }}</a>
            <a href="/">{{ _("ZONES") }}</a>
            <a href="/latest_videos">{{ _("LATEST VIDEOS") }}</a>
            <a href="/upload">{{ _("UPLOAD") }}</a>
            <a href="/about_us">{{ _("ABOUT US") }}</a>
            <a
              href="javascript:void(0);"
              style="font-size:15px;"
              class="icon"
              onclick="myFunction()"
              >&#9776;</a
            >
          </div>
          <script>
            function myFunction() {
              var x = document.getElementById("myTopnav");
              if (x.className === "topnav") {
                x.className += " responsive";
              } else {
                x.className = "topnav";
              }
            }
          </script>
          <br />
          <br />
          <!-- Upload form -->
          <div class="form-container">
            <form
              id="uploadForm"
              action="{{ url_for('upload_file') }}"
              method="POST"
              enctype="multipart/form-data"
              onsubmit="return validateForm()"
            >
              <h4>{{_("Upload Form")}}</h4>
              <br />
              <!-- We Transfer upload snippet -->
              <div data-widget-host="habitat" id="wt_embed">
                <script type="text/props">
                  {
                    "wtEmbedKey": "fcec02cd-f871-4310-9ffd-af4637baca2d",
                    "wtEmbedOutput": ".wt_embed_output",
                    "wtEmbedLanguage": "{{ locale }}"
                  }
                </script>
              </div>
              <script
                async
                src="https://prod-embed-cdn.wetransfer.net/v1/latest.js"
              ></script>
              <!--
            The next input element will hold the transfer link. For testing purposes, you
            could change the type attribute to "text", instead of "hidden".
            -->
              <input
                type="hidden"
                name="wt_embed_output"
                class="wt_embed_output"
              />
              <br />
              <!-- Rest of fields -->
              <br />
              {{ _("Name") }}: <input required type="text" name="name" /><br />
              {{ _("Climber") }}: <input type="text" name="climber" /><br />
              {{ _("Zone") }}: <input required type="text" name="zone" /><br />
              {{ _("Sector") }}: <input type="text" name="sector" /><br />
              {{ _("Grade") }}: <input type="text" name="grade" /><br />
              {{ _("Notes") }}: <br />
              <textarea name="notes" rows="5"></textarea><br />
              <br />
              <input type="submit" />
            </form>
          </div>
        </div>
        <footer>
          <br />
          <div style="text-align:center;">
            <div style="display: inline-block">
              <a href="https://www.instagram.com/madboulder/"
                ><i class="fab fa-instagram fa-2x"></i
              ></a>
              <a href="https://www.youtube.com/channel/UCX9ok0rHnvnENLSK7jdnXxA"
                ><i class="fab fa-youtube fa-2x"></i
              ></a>
            </div>
          </div>
          <br />
          <div style="text-align:center;">
            <div style="display: inline-block">
              <ul id="lang-selector" style="padding: 0;list-style: none;">
                <li>
                  <a href="/language/en?origin=upload" title="English">
                    {{ _("English") }}
                  </a>
                </li>
                &nbsp;
                <li>
                  <a href="/language/es?origin=upload" title="Spanish">
                    {{ _("Español") }}
                  </a>
                </li>
                &nbsp;
                <li>
                  <a href="/language/ca?origin=upload" title="Catalan">
                    {{ _("CatalÃ Â ") }}
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </footer>
      </div>
    </div>
  </body>
</html>

<style>
  form {
    margin: 0 auto;
    width: 75%;
  }
  ul#lang-selector li {
    display: inline;
  }

  .form-container {
    display: inline;
    justify-content: center;
    clear: both;
  }

  .form-container input {
    width: 100%;
    clear: both;
  }
  .form-container select {
    width: 100%;
    clear: both;
  }
  textarea {
    width: 100%;
    -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */
    -moz-box-sizing: border-box; /* Firefox, other Gecko */
    box-sizing: border-box; /* Opera/IE 8+ */
  }
</style>

<script>
  function validateForm() {
    var form = document.forms["uploadForm"];
    if (form["wt_embed_output"].value == "") {
      alert("Please select a file or wait until the selected file has been uploaded");
      return false;
    }
  }
</script>
