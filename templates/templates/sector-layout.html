{% extends "templates/templates/sector_page_layout.html" %}

{% block title %}Sector {{ sector[0] }} at {{ zone_name }}{% endblock %} 
{% block description %}{{ sector[0] }} at {{ zone_name }}{% endblock%} 
{% block head %}
<link rel="canonical" href="https://www.madboulder.org/sectors/{{zone_code}}/{{sector_code}}">
{% endblock%} 

{% block body %}
<div class="container">
	<h1 style="text-align: center;"> {{ sector[0] }}, {{ zone_name }}</h1>
	<br>
	{% if video_url %}
		<div class="video-container" >
			<iframe src="{{ video_url }}" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe>
		</div>
		<br />
	{% endif %}
	<!--Problem List-->
	<div class="container">
	  {% raw %}
	  <h4 class="listTitle" id="listProblemsTitle">
		{{ _("List of Problems") }}
		<img src="{{url_for('static', filename='images/icons/triangle.png')}}" class="toggleIcon" id="toggleIconProblems">
	  </h4>
	  {% endraw %}
	  <ul id="listProblems" class="list closed">
		{% for problem in problems %}
		<li>
		  <a href="/problems/{{zone_code}}/{{problem['secure']}}">{{ problem["name"] }}, {{ problem["grade_with_info"] }}</a>
		</li>
		{% endfor %}
	  </ul>
	  <script >
		const listProblemsTitle = document.getElementById('listProblemsTitle');
		
		// Simulate a click on the button to open the list when the page loads
		document.addEventListener('DOMContentLoaded', function() {
		  listProblemsTitle.click();
		});
	
		const listProblems = document.getElementById('listProblems');
		const toggleIconProblems = document.getElementById('toggleIconProblems');

		listProblemsTitle.addEventListener('click', function() {
		  listProblems.classList.toggle('opened');
		  toggleIconProblems.style.transform = listProblems.classList.contains('opened') ? 'rotate(90deg)' : 'rotate(0deg)';
		});
	  </script>
	</div>
</div>
{% endblock %}