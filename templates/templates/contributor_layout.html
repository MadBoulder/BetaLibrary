{% extends "templates/templates/contributor_page_layout.html" %}

{% block title %}Beta Videos from {{ contributor_name }}{% endblock %} 
{% block description %}Discover all {{ problems|length }} Beta Videos from {{ contributor_name }}{% endblock%} 
{% block head %}
<link rel="canonical" href="https://www.madboulder.org/contributors/{{contributor_code}}">
{% endblock%} 

{% block heading %}
<div class="zone-header">
	<div class="container zone-header-tree">
		<a href="/contributors/contributors-list" class="zone-header-tree-link">All Contributors</a>
	</div>
	<h1 class="zone-header-title text-bold">
		List of {{ problems|length }} Beta Videos from {{ contributor_name }}
	</h1>
</div>
{% endblock%} 

{% block body %}
	<div class="container">
		<input id="search-problem" class="form-control  mb-2" type="text" placeholder="Search" aria-label="Search" style="display: grid; align-self: center; border-color: black;">
		<table id="problems-table" class="table table-hover">
			<thead>
				<tr>
					{% raw %}
					<th scope="col" class="sorting">{{ _("Name") }}</th>
					<th scope="col" class="sorting">{{ _("Grade") }}</th>
					<th scope="col" class="sorting">{{ _("Area") }}</th>
					{% endraw %}
				</tr>
			</thead>
			<tbody style="vertical-align: middle;">
				{% for problem in problems %}
					<tr class="problem-row">
						<td>
							<div class="problem-thumbnail-cell">
							<a aria-hidden="false" aria-label="{{ problem["title"] }}" href="/problems/{{problem['zone_code']}}/{{problem['secure']}}" tabindex="0" target="">
								<div class="video-thumbnail-container">
								<img class="video-thumbnail-img" loading="lazy" alt="Video thumbnail of {{ problem["title"] }}" src="https://img.youtube.com/vi/{{ problem["id"] }}/mqdefault.jpg">
								</div>
							</a>
							<a href="/problems/{{problem['zone_code']}}/{{problem['secure']}}" class="table-row-name text-bold">{{ problem["name"] }}</a>
							</div>
						</td>
						<td>{{ problem["grade_with_info"] }}</td>
						<td>{{ problem["zone"] }}</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
		<script>
			$(document).ready(function () {
				$('#problems-table').DataTable({
					paging: false,
					dom: 'tr',
					columnDefs: [
						{
							targets: [1],
							type: 'custom-grade',
						},
					]
				});
				
				$("#search-problem").trigger("keyup");
					
				$("#search-problem").keyup(function() {
					var search_query = $.trim($(this).val());
					var items = $(".problem-row");
					filter_items_by_query(search_query, items)
				});
			});
		</script>
	</div>
{% endblock %}